<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Painel Dirigente – SEAPE</title>
    <link rel="stylesheet" href="seape.css" />
</head>

<body>
    <div class="page">
        <header class="page-header">
            <div>
                <h1>Painel – SEAPE</h1>
            </div>

            <div class="header-actions">
                <span id="pillResumo" class="pill">Registros: <strong>—</strong></span>
                <button class="btn ghost" id="btnMenu">Menu</button>
                <button class="btn" id="btnSefrep">SEFREP</button>
                <button class="btn danger" id="btnRecarregar">Recarregar</button>
            </div>
        </header>

        <div class="layout">
            <aside class="card sidebar">
                <h2>FILTROS</h2>

                <div class="filters" id="filters">
                    <div class="field">
                        <label for="fTema">Tema</label>
                        <select id="fTema"></select>
                    </div>

                    <div class="field">
                        <label for="fStatus">Status</label>
                        <select id="fStatus"></select>
                    </div>

                    <div class="field">
                        <label for="fEscola">Escola</label>
                        <select id="fEscola"></select>
                    </div>

                    <div class="field">
                        <label for="fBusca">Busca (protocolo/processo/obs)</label>
                        <input id="fBusca" type="text" placeholder="Digite para filtrar..." />
                    </div>

                    <button class="btn primary" id="btnAplicar" type="button">Aplicar</button>
                    <button class="btn" id="btnLimpar" type="button">Limpar filtros</button>

                    <div id="msg" class="msg" style="display:none;"></div>
                </div>

                <div class="chart-box chart-box--sidebar" style="margin-top:12px;">
                    <div class="section-title" style="margin:0 0 10px;">
                        <h3>Status</h3>
                    </div>

                    <canvas id="pieStatus"></canvas>

                    <div class="legend">
                        <span><i class="dot ok"></i>Concluído</span>
                        <span><i class="dot warn"></i>Em andamento</span>
                        <span><i class="dot bad"></i>Não concluído</span>
                    </div>
                </div>
            </aside>

            <main class="card main">
                <div class="cards" id="kpis"></div>

                <div class="split">
                    <div class="table-wrap">
                        <div class="section-title">
                            <h3>Registros</h3>
                            <span class="muted" id="lblQtd">—</span>
                        </div>

                        <table>
                            <thead>
                                <tr>
                                    <th>Tema</th>
                                    <th>Status</th>
                                    <th>Protocolo/Processo</th>
                                    <th>Entrada</th>
                                    <th>Saída</th>
                                    <th>Observações</th>
                                </tr>
                            </thead>
                            <tbody id="tbody"></tbody>
                        </table>
                    </div>
                </div>

                <div class="footer">
                    <span>SEAPE • Dirigente</span>
                    <span id="lblAtualizacao">—</span>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script src="seape.js" defer></script>
</body>

</html>
